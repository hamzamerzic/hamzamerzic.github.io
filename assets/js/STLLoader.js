!function(){class t extends THREE.Loader{constructor(t){super(t)}load(t,e,r,n){const o=this,a=new THREE.FileLoader(this.manager);a.setPath(this.path),a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(t,(function(r){try{e(o.parse(r))}catch(e){n&&n(e),o.manager.itemError(t)}}),r,n)}parse(t){function e(t){const e=new DataView(t),n=50;if(84+e.getUint32(80,!0)*n===e.byteLength)return!0;const o=[115,111,108,105,100];for(let t=0;t<5;t++)if(r(o,e,t))return!1;return!0}function r(t,e,r){for(let n=0,o=t.length;n<o;n++)if(t[n]!==e.getUint8(r+n))return!1;return!0}function n(t){const e=new DataView(t),r=e.getUint32(80,!0);let n,o,a,s,i,l,u,f,c=!1;for(let t=0;t<70;t++)1129270351==e.getUint32(t,!1)&&82==e.getUint8(t+4)&&61==e.getUint8(t+5)&&(c=!0,s=new Float32Array(3*r*3),i=e.getUint8(t+6)/255,l=e.getUint8(t+7)/255,u=e.getUint8(t+8)/255,f=e.getUint8(t+9)/255);const g=84,E=50,d=new THREE.BufferGeometry,p=new Float32Array(3*r*3),w=new Float32Array(3*r*3);for(let t=0;t<r;t++){const r=g+t*E,f=e.getFloat32(r,!0),d=e.getFloat32(r+4,!0),h=e.getFloat32(r+8,!0);if(c){const t=e.getUint16(r+48,!0);32768&t?(n=i,o=l,a=u):(n=(31&t)/31,o=(t>>5&31)/31,a=(t>>10&31)/31)}for(let i=1;i<=3;i++){const l=r+12*i,u=3*t*3+3*(i-1);p[u]=e.getFloat32(l,!0),p[u+1]=e.getFloat32(l+4,!0),p[u+2]=e.getFloat32(l+8,!0),w[u]=f,w[u+1]=d,w[u+2]=h,c&&(s[u]=n,s[u+1]=o,s[u+2]=a)}}return d.setAttribute("position",new THREE.BufferAttribute(p,3)),d.setAttribute("normal",new THREE.BufferAttribute(w,3)),c&&(d.setAttribute("color",new THREE.BufferAttribute(s,3)),d.hasColors=!0,d.alpha=f),d}function o(t){const e=new THREE.BufferGeometry,r=/solid([\s\S]*?)endsolid/g,n=/facet([\s\S]*?)endfacet/g;const o=/[\s]+([+-]?(?:\d*)(?:\.\d*)?(?:[eE][+-]?\d+)?)/.source,a=new RegExp("vertex"+o+o+o,"g"),s=new RegExp("normal"+o+o+o,"g"),i=[],l=[],u=new THREE.Vector3;let f,c=0,g=0,E=0;for(;null!==(f=r.exec(t));){g=E;const t=f[0];for(;null!==(f=n.exec(t));){let t=0,e=0;const r=f[0];for(;null!==(f=s.exec(r));)u.x=parseFloat(f[1]),u.y=parseFloat(f[2]),u.z=parseFloat(f[3]),e++;for(;null!==(f=a.exec(r));)i.push(parseFloat(f[1]),parseFloat(f[2]),parseFloat(f[3])),l.push(u.x,u.y,u.z),t++,E++;0}const r=g,o=E-g;e.addGroup(r,o,c),c++}return e.setAttribute("position",new THREE.Float32BufferAttribute(i,3)),e.setAttribute("normal",new THREE.Float32BufferAttribute(l,3)),e}function a(t){return"string"!=typeof t?THREE.LoaderUtils.decodeText(new Uint8Array(t)):t}function s(t){if("string"==typeof t){const e=new Uint8Array(t.length);for(let r=0;r<t.length;r++)e[r]=255&t.charCodeAt(r);return e.buffer||e}return t}const i=s(t);return e(i)?n(i):o(a(t))}}THREE.STLLoader=t}();