<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> Mesh Cleaner | You R. Name </title> <meta name="author" content="You R. Name"> <meta name="description" content="Clean and process 3D mesh files for use in physics-based simulation environments"> <meta name="keywords" content="jekyll, jekyll-theme, academic-website, portfolio-website"> <link rel="stylesheet" href="/al-folio/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/al-folio/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" href="/al-folio/assets/css/scholar-icons.css?62b2ac103a88034e6882a5be5f3e2772"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/al-folio/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%E2%9A%9B%EF%B8%8F&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/al-folio/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://alshedivat.github.io/al-folio/mesh_cleaner/"> <script src="/al-folio/assets/js/theme.js?a81d82887dd692e91686b43de4542f18"></script> <link defer rel="stylesheet" href="/al-folio/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script>
    initTheme();
  </script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/al-folio/"> <span class="font-weight-bold">You</span> R. Name </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/al-folio/">about </a> </li> <li class="nav-item "> <a class="nav-link" href="/al-folio/blog/">blog </a> </li> <li class="nav-item "> <a class="nav-link" href="/al-folio/publications/">publications </a> </li> <li class="nav-item "> <a class="nav-link" href="/al-folio/projects/">projects </a> </li> <li class="nav-item "> <a class="nav-link" href="/al-folio/repositories/">repositories </a> </li> <li class="nav-item "> <a class="nav-link" href="/al-folio/cv/">cv </a> </li> <li class="nav-item "> <a class="nav-link" href="/al-folio/teaching/">teaching </a> </li> <li class="nav-item "> <a class="nav-link" href="/al-folio/people/">people </a> </li> <li class="nav-item dropdown "> <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">submenus </a> <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown"> <a class="dropdown-item " href="/al-folio/books/">bookshelf</a> <div class="dropdown-divider"></div> <a class="dropdown-item " href="/al-folio/blog/">blog</a> </div> </li> <li class="nav-item"> <button id="search-toggle" title="Search" onclick="openSearchModal()"> <span class="nav-link">ctrl k <i class="ti ti-search"></i></span> </button> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="ti ti-sun-moon" id="light-toggle-system"></i> <i class="ti ti-moon-filled" id="light-toggle-dark"></i> <i class="ti ti-sun-filled" id="light-toggle-light"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="post"> <header class="post-header"> <h1 class="post-title">Mesh Cleaner</h1> <p class="post-description">Clean and process 3D mesh files for use in physics-based simulation environments</p> </header> <article> <p> Mesh Cleaner is a tool that cleans 3D mesh files and computes their geometric properties such as volume, center of mass, and moments of inertia. The idea behind this project was to automate the tedious process of preparing 3D models for use in Gazebo‚Äîas explained in the <a href="https://classic.gazebosim.org/tutorials?tut=inertia" target="_blank" rel="external nofollow noopener">classic Gazebo tutorial</a>. </p> <p>Supported file formats: <strong>.stl, .obj, .dae</strong> (max size: 20MB)</p> <form id="uploadForm" onsubmit="event.preventDefault(); uploadFile();"> <label for="fileInput"><strong>Select or drop a 3D model:</strong></label> <div id="dropArea"> <input type="file" id="fileInput" accept=".stl,.obj,.dae" required="" hidden=""> <div id="dropText">üìÇ Drop file here or click to browse</div> </div> <br> <label for="massInput"><strong>Mass (kg):</strong></label> <input type="number" id="massInput" step="any" value="1.0" min="0.001" required=""> <br><br> <details> <summary><strong>Advanced options</strong></summary> <label> <input type="checkbox" id="saveNormals"> Save vertex normals <br><small style="opacity: 0.75;">(May help with rendering, but increases file size.)</small> </label><br> <label> <input type="checkbox" id="useConvexHull"> Generate convex hull <br><small style="opacity: 0.75;">(Useful for models with holes or open surfaces.)</small> </label> </details> <br> <button type="submit">üöÄ Upload &amp; Clean</button> </form> <hr> <p><strong>Results:</strong></p> <p id="usageTip" style="display:none;"> <em>The XML snippet below (inside <code>&lt;inertial&gt;</code>) can be used in URDF/SDF robot model files.</em> </p> <pre id="response">Waiting for upload...</pre> <p><a id="downloadLink" style="display:none;" download="">‚¨á Download Cleaned Mesh</a> <a id="view3DLink" style="display:none;" target="_blank">üîç View in 3D Viewer</a></p> <p style="margin-top: 2em;"> ‚ú® This tool was modernized as part of a recent <a href="https://hamzamerzic.info/blog/2025/website-migration/" rel="external nofollow noopener" target="_blank">website migration</a> from my old WordPress days.<br> If you notice any regressions or bugs, please reach out‚ÄîI‚Äôd love to hear from you. </p> <script>
document.addEventListener("DOMContentLoaded", () => {
  const dropArea = document.getElementById("dropArea");
  const fileInput = document.getElementById("fileInput");
  const dropText = document.getElementById("dropText");

  const updateDropText = () => {
    if (fileInput.files.length > 0) {
      dropText.textContent = `üìÅ Selected: ${fileInput.files[0].name}`;
    } else {
      dropText.textContent = "üìÇ Drop file here or click to browse";
    }
  };

  dropArea.addEventListener("click", () => fileInput.click());

  ["dragenter", "dragover"].forEach(event =>
    dropArea.addEventListener(event, e => {
      e.preventDefault();
      dropArea.classList.add("highlight");
    })
  );

  ["dragleave", "drop"].forEach(event =>
    dropArea.addEventListener(event, e => {
      e.preventDefault();
      dropArea.classList.remove("highlight");
    })
  );

  dropArea.addEventListener("drop", e => {
    fileInput.files = e.dataTransfer.files;
    updateDropText();
  });

  fileInput.addEventListener("change", updateDropText);
});

async function uploadFile() {
  const file = document.getElementById("fileInput").files[0];
  const mass = document.getElementById("massInput").value;
  const saveNormals = document.getElementById("saveNormals").checked;
  const useConvexHull = document.getElementById("useConvexHull").checked;
  const responseEl = document.getElementById("response");
  const linkEl = document.getElementById("downloadLink");
  const viewLinkEl = document.getElementById("view3DLink");
  const usageTip = document.getElementById("usageTip");

  if (!file) return alert("Please select a file.");
  if (file.size > 20 * 1024 * 1024) return alert("File size must be under 20MB.");
  const validExtensions = ['.stl', '.obj', '.dae'];
  if (!validExtensions.some(ext => file.name.toLowerCase().endsWith(ext)))
    return alert("Unsupported file format. Please upload a .stl, .obj, or .dae file.");

  responseEl.textContent = "‚è≥ Uploading and processing...";
  usageTip.style.display = linkEl.style.display = viewLinkEl.style.display = "none";

  const formData = new FormData();
  formData.append("file", file);
  formData.append("mass", mass);
  formData.append("save_normals", saveNormals);
  formData.append("use_convex_hull", useConvexHull);

  const controller = new AbortController();
  const timeoutId = setTimeout(() => controller.abort(), 30000);

  try {
    const res = await fetch("https://mesh-cleaner-692118822266.europe-west1.run.app/upload", {
      method: "POST",
      body: formData,
      signal: controller.signal
    });
    clearTimeout(timeoutId);
    const data = await res.json();

    if (!res.ok) {
      responseEl.textContent = "‚ùå Error: " + (data.error || "Unknown error.");
      return;
    }

    responseEl.textContent = data.metrics;
    usageTip.style.display = "block";

    const cleanedMeshURL = `https://mesh-cleaner-692118822266.europe-west1.run.app${data.download_url}`;
    linkEl.href = cleanedMeshURL;
    linkEl.style.display = "inline";

    viewLinkEl.href = `/3d-viz/?file=${encodeURIComponent(cleanedMeshURL)}`;
    viewLinkEl.style.display = "inline";
  } catch (err) {
    responseEl.textContent = "‚ùå Upload failed: " + (err.name === "AbortError" ? "Timeout" : err.message);
  }
}
</script> <style>#uploadForm{padding:1em;border:1px solid var(--border-color,#ccc);border-radius:12px;max-width:500px}input[type="number"],#uploadForm button{font-size:1.1em;padding:.5em;margin-top:.3em;width:100%;box-sizing:border-box;border:1px solid #ccc;border-radius:6px;background-color:var(--input-bg,#fff);color:black}#uploadForm button{background-color:#12b075;border:0;border-radius:8px;cursor:pointer;margin-top:1em;color:white;transition:background .2s ease}#uploadForm button:hover{background-color:#0e8d5d}#dropArea{border:2px dashed #bbb;padding:1.5em;text-align:center;cursor:pointer;border-radius:10px;transition:background .3s ease}#dropArea.highlight{background:#e0ffe8}#dropText{font-size:.95em;color:inherit}pre{padding:1em;white-space:pre-wrap;word-wrap:break-word;background:#eee;border-radius:8px}#downloadLink,#view3DLink{display:inline-block;margin-top:1em;padding:.5em;width:100%;box-sizing:border-box;background-color:#12b075;border-radius:8px;color:white;text-align:center;text-decoration:none;cursor:pointer;transition:background .2s ease}#downloadLink:hover,#view3DLink:hover{background-color:#0e8d5d}</style> </article> <div id="giscus_thread" style="max-width: 930px; margin: 0 auto;"> <script>
      let giscusTheme = determineComputedTheme();
      let giscusAttributes = {
        src: 'https://giscus.app/client.js',
        'data-repo': 'hamzamerzic/hamzamerzic.github.io',
        'data-repo-id': '',
        'data-category': 'Comments',
        'data-category-id': '',
        'data-mapping': 'title',
        'data-strict': '1',
        'data-reactions-enabled': '1',
        'data-emit-metadata': '0',
        'data-input-position': 'bottom',
        'data-theme': giscusTheme,
        'data-lang': 'en',
        crossorigin: 'anonymous',
        async: '',
      };

      let giscusScript = document.createElement('script');
      Object.entries(giscusAttributes).forEach(([key, value]) => giscusScript.setAttribute(key, value));
      document.getElementById('giscus_thread').appendChild(giscusScript);
    </script> <noscript>Please enable JavaScript to view the <a href="http://giscus.app/?ref_noscript" rel="external nofollow noopener" target="_blank">comments powered by giscus.</a> </noscript> </div> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> ¬© Copyright 2025 You R. Name. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. Photos from <a href="https://unsplash.com" target="_blank" rel="external nofollow noopener">Unsplash</a>. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/al-folio/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/al-folio/assets/js/masonry.js?a0db7e5d5c70cc3252b3138b0c91dcaf" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/al-folio/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script src="/al-folio/assets/js/no_defer.js?2781658a0a2b13ed609542042a859126"></script> <script defer src="/al-folio/assets/js/common.js?e0514a05c5c95ac1a93a8dfd5249b92e"></script> <script defer src="/al-folio/assets/js/copy_code.js?c8a01c11a92744d44b093fc3bda915df" type="text/javascript"></script> <script defer src="/al-folio/assets/js/jupyter_new_tab.js?d9f17b6adc2311cbabd747f4538bb15f"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script> <script src="/al-folio/assets/js/mathjax-setup.js?a5bb4e6a542c546dd929b24b8b236dfd"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6" crossorigin="anonymous"></script> <script defer src="/al-folio/assets/js/progress-bar.js?2f30e0e6801ea8f5036fa66e1ab0a71a" type="text/javascript"></script> <script src="/al-folio/assets/js/vanilla-back-to-top.min.js?f40d453793ff4f64e238e420181a1d17"></script> <script>
    addBackToTop();
  </script> <script type="module" src="/al-folio/assets/js/search/ninja-keys.min.js?a3446f084dcaecc5f75aa1757d087dcf"></script> <ninja-keys hidebreadcrumbs noautoloadmdicons placeholder="Type to start searching"></ninja-keys> <script src="/al-folio/assets/js/search-setup.js?6c304f7b1992d4b60f7a07956e52f04a"></script> <script src="/al-folio/assets/js/search-data.js"></script> <script src="/al-folio/assets/js/shortcut-key.js?6f508d74becd347268a7f822bca7309d"></script> </body> </html>