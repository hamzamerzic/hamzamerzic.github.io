<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> Mesh Cleaner | Hamza Merziƒá </title> <meta name="author" content="Hamza Merziƒá"> <meta name="description" content="Clean and process 3D mesh files for use in physics-based robotics simulation environments"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" href="/assets/css/scholar-icons.css?62b2ac103a88034e6882a5be5f3e2772"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="/assets/img/favicon.png?7e18091fb100d644a1775d681e0c7943"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://hamzamerzic.github.io/mesh_cleaner/"> <script src="/assets/js/theme.js?e10672bfa35be5e687724adf57563e6e"></script> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script>
    initTheme();
  </script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> <span class="font-weight-bold">Hamza</span> Merziƒá </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about </a> </li> <li class="nav-item "> <a class="nav-link" href="/blog/">blog </a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">publications </a> </li> <li class="nav-item "> <a class="nav-link" href="/projects/">projects </a> </li> <li class="nav-item"> <button id="search-toggle" title="Search" onclick="openSearchModal()"> <span class="nav-link">ctrl k <i class="ti ti-search"></i></span> </button> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="ti ti-moon-filled" id="light-toggle-dark"></i> <i class="ti ti-sun-filled" id="light-toggle-light"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="post"> <header class="post-header"> <h1 class="post-title">Mesh Cleaner</h1> <p class="post-description">Clean and process 3D mesh files for use in physics-based robotics simulation environments</p> </header> <article> <h2>Mesh Cleaner</h2> <p> Mesh Cleaner is a tool that cleans 3D mesh files and computes their geometric properties such as volume, center of mass, and moments of inertia. The idea behind this project was to automate the tedious process of preparing 3D models for use in Gazebo‚Äîas explained in the <a href="https://classic.gazebosim.org/tutorials?tut=inertia" target="_blank" rel="external nofollow noopener">classic Gazebo tutorial</a>. </p> <p>Supported file formats: <strong>.stl, .obj, .dae</strong> (max size: 20MB)</p> <form id="uploadForm"> <label for="fileInput"><strong>Select 3D model:</strong></label><br> <input type="file" id="fileInput" accept=".stl,.obj,.dae" required=""><br><br> <label for="massInput"><strong>Mass (kg):</strong></label><br> <input type="number" id="massInput" step="0.1" value="1.0" min="0.01" required=""><br><br> <details> <summary style="cursor:pointer; font-weight:bold;">Advanced options</summary> <label> <input type="checkbox" id="saveNormals"> Save vertex normals in output mesh <br><small style="opacity: 0.75;">(This may help with some rendering tools, but increases file size. Not always necessary.)</small> </label><br> <label> <input type="checkbox" id="useConvexHull"> Generate convex hull if mesh is not watertight <br><small style="opacity: 0.75;">(Useful for models with holes or open surfaces.)</small> </label><br> </details> <br> <button type="button" onclick="uploadFile()">üöÄ Upload &amp; Clean</button> </form> <hr> <p><strong>Results:</strong></p> <p id="usageTip" style="display:none; margin-top: 1em;"> <em>The XML snippet below (inside <code>&lt;inertial&gt;</code>) can be directly used in URDF or SDF robot model files, for example when simulating in Gazebo or ROS-based environments.</em> </p> <pre id="response">Waiting for upload...</pre> <p><a id="downloadLink" style="display:none;" download="">‚¨á Download Cleaned Mesh</a></p> <script>
async function uploadFile() {
  const fileInput = document.getElementById("fileInput");
  const file = fileInput.files[0];
  const mass = document.getElementById("massInput").value;
  const saveNormals = document.getElementById("saveNormals").checked;
  const useConvexHull = document.getElementById("useConvexHull").checked;
  const responseEl = document.getElementById("response");
  const linkEl = document.getElementById("downloadLink");
  const usageTip = document.getElementById("usageTip");

  if (!file) {
    alert("Please select a file.");
    return;
  }

  if (file.size > 20 * 1024 * 1024) {
    alert("File size must be under 20MB.");
    return;
  }

  responseEl.textContent = "‚è≥ Uploading and processing...";
  usageTip.style.display = "none";
  linkEl.style.display = "none";

  const formData = new FormData();
  formData.append("file", file);
  formData.append("mass", mass);
  formData.append("save_normals", saveNormals);
  formData.append("use_convex_hull", useConvexHull);

  try {
    const res = await fetch("https://mesh-cleaner-692118822266.europe-west1.run.app/upload", {
      method: "POST",
      body: formData,
    });

    const data = await res.json();

    if (!res.ok) {
      responseEl.textContent = "‚ùå Error: " + data.error;
      return;
    }

    responseEl.textContent = data.metrics;
    usageTip.style.display = "block";

    responseEl.textContent = data.metrics;
    linkEl.href = `https://mesh-cleaner-692118822266.europe-west1.run.app${data.download_url}`;
    linkEl.style.display = "inline";
  } catch (err) {
    responseEl.textContent = "‚ùå Upload failed: " + err.message;
  }
}
</script> <style>#uploadForm{padding:1em;border:1px solid;border-radius:8px;max-width:500px}input[type="file"],input[type="number"],button{font-size:1em;padding:.5em;margin-top:.3em;width:100%;box-sizing:border-box}button{background-color:#12b075;border:0;border-radius:5px;cursor:pointer;margin-top:1em}button:hover{background-color:#0e8d5d}pre{padding:1em;max-width:100%;white-space:pre-wrap;word-wrap:break-word}#downloadLink{display:inline-block;margin-top:1em;padding:.6em 1em;background-color:#12b075;text-decoration:none;border-radius:5px}</style> </article> </div> </div> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/assets/js/masonry.js?a0db7e5d5c70cc3252b3138b0c91dcaf" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script src="/assets/js/no_defer.js?2781658a0a2b13ed609542042a859126"></script> <script defer src="/assets/js/common.js?e0514a05c5c95ac1a93a8dfd5249b92e"></script> <script defer src="/assets/js/copy_code.js?12775fdf7f95e901d7119054556e495f" type="text/javascript"></script> <script defer src="/assets/js/jupyter_new_tab.js?d9f17b6adc2311cbabd747f4538bb15f"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script> <script src="/assets/js/mathjax-setup.js?a5bb4e6a542c546dd929b24b8b236dfd"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6" crossorigin="anonymous"></script> <script defer src="/assets/js/progress-bar.js?2f30e0e6801ea8f5036fa66e1ab0a71a" type="text/javascript"></script> <script src="/assets/js/vanilla-back-to-top.min.js?f40d453793ff4f64e238e420181a1d17"></script> <script>
    addBackToTop();
  </script> <script type="module" src="/assets/js/search/ninja-keys.min.js?a3446f084dcaecc5f75aa1757d087dcf"></script> <ninja-keys hidebreadcrumbs noautoloadmdicons placeholder="Type to start searching"></ninja-keys> <script src="/assets/js/search-setup.js?6c304f7b1992d4b60f7a07956e52f04a"></script> <script src="/assets/js/search-data.js"></script> <script src="/assets/js/shortcut-key.js?6f508d74becd347268a7f822bca7309d"></script> </body> </html>